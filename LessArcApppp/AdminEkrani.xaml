<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="LessArcApppp.AdminEkrani"
    NavigationPage.HasNavigationBar="False"
    Shell.NavBarIsVisible="False"
    SizeChanged="Admin_SizeChanged">

    <!-- Ortak stiller -->
    <ContentPage.Resources>
        <Style x:Key="MenuButtonStyle" TargetType="Border">
            <Setter Property="HeightRequest">
                <Setter.Value>
                    <OnIdiom x:TypeArguments="x:Double">
                        <OnIdiom.Phone>60</OnIdiom.Phone>
                        <OnIdiom.Tablet>70</OnIdiom.Tablet>
                        <OnIdiom.Desktop>80</OnIdiom.Desktop>
                    </OnIdiom>
                </Setter.Value>
            </Setter>
            <Setter Property="BackgroundColor" Value="#66000000"/>
            <Setter Property="Stroke" Value="#D6C9C1"/>
            <Setter Property="StrokeThickness">
                <Setter.Value>
                    <OnIdiom x:TypeArguments="x:Double">
                        <OnIdiom.Phone>3</OnIdiom.Phone>
                        <OnIdiom.Tablet>4</OnIdiom.Tablet>
                        <OnIdiom.Desktop>4</OnIdiom.Desktop>
                    </OnIdiom>
                </Setter.Value>
            </Setter>
            <Setter Property="StrokeShape" Value="RoundRectangle 18"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="HorizontalOptions">
                <Setter.Value>
                    <OnIdiom x:TypeArguments="LayoutOptions">
                        <OnIdiom.Phone>Center</OnIdiom.Phone>
                        <OnIdiom.Tablet>Center</OnIdiom.Tablet>
                        <OnIdiom.Desktop>Fill</OnIdiom.Desktop>
                    </OnIdiom>
                </Setter.Value>
            </Setter>
            <Setter Property="WidthRequest">
                <Setter.Value>
                    <OnIdiom x:TypeArguments="x:Double">
                        <OnIdiom.Phone>300</OnIdiom.Phone>
                        <OnIdiom.Tablet>360</OnIdiom.Tablet>
                        <OnIdiom.Desktop>-1</OnIdiom.Desktop>
                    </OnIdiom>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="MenuLabelStyle" TargetType="Label">
            <Setter Property="FontSize">
                <Setter.Value>
                    <OnIdiom x:TypeArguments="x:Double">
                        <OnIdiom.Phone>18</OnIdiom.Phone>
                        <OnIdiom.Tablet>19</OnIdiom.Tablet>
                        <OnIdiom.Desktop>20</OnIdiom.Desktop>
                    </OnIdiom>
                </Setter.Value>
            </Setter>
            <Setter Property="FontFamily" Value="ArchitectFont"/>
            <Setter Property="TextColor" Value="White"/>
            <Setter Property="HorizontalOptions" Value="Center"/>
            <Setter Property="VerticalOptions" Value="Center"/>
            <Setter Property="HorizontalTextAlignment" Value="Center"/>
            <Setter Property="VerticalTextAlignment" Value="Center"/>
        </Style>

        <!-- 🔔 Bildirim butonu: sadece dış çerçeve kırmızı -->
        <Style x:Key="NotificationButtonStyle" TargetType="Border" BasedOn="{StaticResource MenuButtonStyle}">
            <Style.Triggers>
                <DataTrigger TargetType="Border" Binding="{Binding HasUnread}" Value="True">
                    <Setter Property="Stroke" Value="#FF3B30"/>
                    <Setter Property="StrokeThickness">
                        <Setter.Value>
                            <OnIdiom x:TypeArguments="x:Double">
                                <OnIdiom.Phone>4</OnIdiom.Phone>
                                <OnIdiom.Tablet>5</OnIdiom.Tablet>
                                <OnIdiom.Desktop>5</OnIdiom.Desktop>
                            </OnIdiom>
                        </Setter.Value>
                    </Setter>
                </DataTrigger>
            </Style.Triggers>
        </Style>
    </ContentPage.Resources>

    <!-- ÜST BAR YOK: tek grid -->
    <Grid>

        <!-- Arka plan -->
        <Image Source="arkaplann.png"
               Aspect="AspectFill"
               Opacity="1"
               InputTransparent="True"/>

        <!-- ********** MOBİL/TABLET ********** -->
        <Grid IsVisible="{OnIdiom Phone=true, Tablet=true, Desktop=false}">
            <VerticalStackLayout
                Spacing="14"
                Padding="0"
                HorizontalOptions="Center"
                VerticalOptions="Center">

                <Label x:Name="lblHosgeldin"
                       Text="Hoşgeldin 👋"
                       FontSize="20"
                       FontAttributes="Italic"
                       FontFamily="ArchitectFont"
                       TextColor="White"
                       HorizontalOptions="Center"
                       Margin="0,0,0,12">
                    <Label.Shadow>
                        <Shadow Brush="Black" Offset="1,1" Radius="2" Opacity="0.4"/>
                    </Label.Shadow>
                </Label>

                <Border Style="{StaticResource MenuButtonStyle}">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="BtnProjeler_Clicked"/>
                    </Border.GestureRecognizers>
                    <Label Style="{StaticResource MenuLabelStyle}" Text="📁  Projeler"/>
                </Border>

                <Border Style="{StaticResource MenuButtonStyle}">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="BtnProjeAyarlari_Clicked"/>
                    </Border.GestureRecognizers>
                    <Label Style="{StaticResource MenuLabelStyle}" Text="🧩  Proje Ayarları"/>
                </Border>

                <Border x:Name="btnBildirimMobil" Style="{StaticResource NotificationButtonStyle}">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="BtnBildirimler_Clicked"/>
                    </Border.GestureRecognizers>
                    <Label Style="{StaticResource MenuLabelStyle}" Text="🔔  Bildirimler"/>
                </Border>

                <Border Style="{StaticResource MenuButtonStyle}">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="BtnRaporlar_Clicked"/>
                    </Border.GestureRecognizers>
                    <Label Style="{StaticResource MenuLabelStyle}" Text="📊  Raporlar"/>
                </Border>

                <Border Style="{StaticResource MenuButtonStyle}">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="BtnPlanlar_Clicked"/>
                    </Border.GestureRecognizers>
                    <Label Style="{StaticResource MenuLabelStyle}" Text="🗓️  Planlar"/>
                </Border>

                <Border Style="{StaticResource MenuButtonStyle}">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="BtnKullanıciEkle_Clicked"/>
                    </Border.GestureRecognizers>
                    <Label Style="{StaticResource MenuLabelStyle}" Text="👤  Kullanıcı Ayarları"/>
                </Border>

                <Border Style="{StaticResource MenuButtonStyle}">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="BtnAyarlar_Clicked"/>
                    </Border.GestureRecognizers>
                    <Label Style="{StaticResource MenuLabelStyle}" Text="⚙️  Ayarlar"/>
                </Border>

            </VerticalStackLayout>
        </Grid>

        <!-- ********** DESKTOP ********** -->
        <Grid IsVisible="{OnIdiom Phone=false, Tablet=false, Desktop=true}"
              HorizontalOptions="Center"
              VerticalOptions="Center">

            <Grid x:Name="desktopCanvas"
                  WidthRequest="1100"
                  HeightRequest="700"
                  HorizontalOptions="Center"
                  VerticalOptions="Center">

                <Grid RowDefinitions="Auto,*">
                    <!-- Başlık -->
                    <Label x:Name="lblHosgeldinDesktop"
                           Grid.Row="0"
                           Text="Hoşgeldin 👋"
                           FontSize="22"
                           FontAttributes="Italic"
                           FontFamily="ArchitectFont"
                           TextColor="White"
                           HorizontalOptions="Center"
                           Margin="0,100,0,20">
                        <Label.Shadow>
                            <Shadow Brush="Black" Offset="1,1" Radius="2" Opacity="0.4"/>
                        </Label.Shadow>
                    </Label>

                    <!-- Butonlar -->
                    <Grid Grid.Row="1"
                          RowSpacing="16"
                          ColumnSpacing="40"
                          WidthRequest="1100"
                          VerticalOptions="Center"
                          HorizontalOptions="Center">

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- Satır 1 -->
                        <Border Grid.Row="0" Grid.Column="0" Style="{StaticResource MenuButtonStyle}">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BtnProjeler_Clicked"/>
                            </Border.GestureRecognizers>
                            <Label Style="{StaticResource MenuLabelStyle}" Text="📁  Projeler"/>
                        </Border>

                        <Border x:Name="btnBildirimDesktop" Grid.Row="0" Grid.Column="1" Style="{StaticResource NotificationButtonStyle}">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BtnBildirimler_Clicked"/>
                            </Border.GestureRecognizers>
                            <Label Style="{StaticResource MenuLabelStyle}" Text="🔔  Bildirimler"/>
                        </Border>

                        <!-- Satır 2 -->
                        <Border Grid.Row="1" Grid.Column="0" Style="{StaticResource MenuButtonStyle}">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BtnProjeAyarlari_Clicked"/>
                            </Border.GestureRecognizers>
                            <Label Style="{StaticResource MenuLabelStyle}" Text="🧩  Proje Ayarları"/>
                        </Border>

                        <Border Grid.Row="1" Grid.Column="1" Style="{StaticResource MenuButtonStyle}">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BtnPlanlar_Clicked"/>
                            </Border.GestureRecognizers>
                            <Label Style="{StaticResource MenuLabelStyle}" Text="🗓️  Planlar"/>
                        </Border>

                        <!-- Satır 3 -->
                        <Border Grid.Row="2" Grid.Column="0" Style="{StaticResource MenuButtonStyle}">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BtnRaporlar_Clicked"/>
                            </Border.GestureRecognizers>
                            <Label Style="{StaticResource MenuLabelStyle}" Text="📊  Raporlar"/>
                        </Border>

                        <Border Grid.Row="2" Grid.Column="1" Style="{StaticResource MenuButtonStyle}">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BtnKullanıciEkle_Clicked"/>
                            </Border.GestureRecognizers>
                            <Label Style="{StaticResource MenuLabelStyle}" Text="👤  Kullanıcı Ayarları"/>
                        </Border>

                        <!-- Satır 4 -->
                        <Border Grid.Row="3" Grid.Column="0" Style="{StaticResource MenuButtonStyle}">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BtnAyarlar_Clicked"/>
                            </Border.GestureRecognizers>
                            <Label Style="{StaticResource MenuLabelStyle}" Text="⚙️  Ayarlar"/>
                        </Border>

                        <!-- Boş kolon -->
                        <Border Grid.Row="3" Grid.Column="1" BackgroundColor="Transparent"/>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</ContentPage>
